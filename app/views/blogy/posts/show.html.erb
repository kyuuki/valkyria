<% content_for :title, @post.title %>

<% content_for :menu_setting do %>
  <% @menu = :blog %>
<% end %>

<%# content_for :breadcrumbs_setting do %>
<!-- @breadcrumbs を設定しなければ page_title は表示されない -->
<%# end %>

<div class="container">
  <div class="row">

    <div class="col-lg-8">

      <!-- Blog Details Section -->
      <section id="blog-details" class="blog-details section">
        <div class="container" data-aos="fade-up">

          <article class="article">

            <%# サムネイルがない場合はなにも表示しない %>
            <% if !@post.thumbnail.nil? %>
            <div class="hero-img" data-aos="zoom-in">
              <img src="<%= @post.thumbnail %>" class="img-fluid" alt="" loading="lazy">

              <!-- <div class="meta-overlay"> -->
              <!--   <div class="meta-categories"> -->
              <!--     <a href="#" class="category">Web Development</a> -->
              <!--     <span class="divider">•</span> -->
              <!--     <span class="reading-time"><i class="bi bi-clock"></i> 6 min read</span> -->
              <!--   </div> -->
              <!-- </div> -->
            </div>
            <% end %>

            <div class="article-content" data-aos="fade-up" data-aos-delay="100">
              <div class="content-header">
                <h1 class="title"><%= @post.title %></h1>

                <div class="author-info">
                  <!-- <div class="author-details"> -->
                  <!--   <img src="assets/img/person/person-f-8.webp" alt="Author" class="author-img"> -->
                  <!--   <div class="info"> -->
                  <!--     <h4>Michael Chen</h4> -->
                  <!--     <span class="role">Senior Web Developer</span> -->
                  <!--   </div> -->
                  <!-- </div> -->
                  <div class="post-meta">
                    <span class="date"><i class="bi bi-calendar3"></i> <%= l @post.posted_at.to_date %></span>
                    <!-- <span class="divider">•</span> -->
                    <!-- <span class="comments"><i class="bi bi-chat-text"></i> 18 Comments</span> -->
                  </div>
                </div>
              </div>

              <div class="content">
                <%# メタデータ youtube_id があると自動的に埋め込み %>
                <%# rel=0 でその他の動画で関係ないのがでないようにしている %>
                <% unless @post.youtube_id.nil? %>
                  <div class="youtube">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/<%= @post.youtube_id %>?rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                  </div>
                <% end %>
                
                <%= @post.content.html_safe %>
              </div>

              <!-- <div class="meta-bottom"> -->
              <!--   <div class="tags-section"> -->
              <!--     <h4>Related Topics</h4> -->
              <!--     <div class="tags"> -->
              <!--       <a href="#" class="tag">Web Development</a> -->
              <!--       <a href="#" class="tag">Performance</a> -->
              <!--       <a href="#" class="tag">Best Practices</a> -->
              <!--       <a href="#" class="tag">Trends</a> -->
              <!--       <a href="#" class="tag">2025</a> -->
              <!--     </div> -->
              <!--   </div> -->

              <!--   <div class="share-section"> -->
              <!--     <h4>Share Article</h4> -->
              <!--     <div class="social-links"> -->
              <!--       <a href="#" class="twitter"><i class="bi bi-twitter-x"></i></a> -->
              <!--       <a href="#" class="facebook"><i class="bi bi-facebook"></i></a> -->
              <!--       <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a> -->
              <!--       <a href="#" class="copy-link" title="Copy Link"><i class="bi bi-link-45deg"></i></a> -->
              <!--     </div> -->
              <!--   </div> -->
              <!-- </div> -->
            </div>

          </article>

        </div>
      </section><!-- /Blog Details Section -->

    </div>

    <div class="col-lg-4 sidebar">
      <%= render "blogy/posts/sidebar" %>
    </div>

  </div>
</div>
